/* ============================================================
   Style.css
   ============================================================ */
/* Smooth scroll globale */
html{ scroll-behavior: smooth; }

/* =======================
   DESIGN TOKENS
   ======================= */
:root{
  /* Indigo */
  --indigo-900: #2F2760;
  --indigo-700: #5B4E9D;
  --indigo-500: #9F7BB8;
  /* add (per hover alphab) */
  --indigo-600: #4A3F81;

  /* Neutral (Light Mode) */
  --neutral-00:  #FFFFFF;
  --neutral-50:  #F3F2F7;
  --neutral-900: #0E0F1A;

  /* Theme colors (Light Mode defaults) */
  --bg-primary: var(--neutral-00);
  --bg-secondary: var(--neutral-50);
  --text-primary: var(--neutral-900);
  --text-secondary: #4A4A5E;
  --surface-0: #FFFFFF;
  --surface-1: #F9F9FB;

  /* Teal CTA */
  --teal-300: #00ADB1;
  --teal-600: #007A7C;
  --teal-700: #006668;

  /* Gold (focus) */
  --gold-600: #E0A402;
  /* add scala Gold per hover/focus coerenti */
  --gold-500: #E0A402;
  --gold-700: #A37500;

  /* Pink */
  --pink-600: #D00093;
  --pink-700: #B3007F;

  /* Orange */
  --orange-600: #DB6A1A;
  --orange-500: #FE771D;

  /* Acid (verde acceso) + hover speciale */
  --acid-600: #5CC800;
  --acid-hover: #EC3DE6;

  /* Tipografia */
  --font-sans: "Lexend Deca", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-display: "Lexend Giga", var(--font-sans);

  /* Scala font */
  --fs-h1: clamp(2rem, 4.5vw + 0.3rem, 3.25rem);
  --fs-h2: clamp(1.5rem, 2.8vw + 0.25rem, 2.25rem);
  --fs-h3: clamp(1.25rem, 2vw + 0.2rem, 1.75rem);
  --fs-body: clamp(1rem, 0.5vw + 0.9rem, 1.125rem);

  /* Line-height & weight */
  --lh-tight: 1.15;
  --lh-normal: 1.45;
  --fw-medium: 500;
  --fw-bold: 700;
  --fw-black: 800;

  /* Spaziature (4pt) */
  --space-1: 4px;  --space-2: 8px;  --space-3: 12px;
  --space-4: 16px; --space-5: 20px; --space-6: 24px;

  /* Raggi */
  --radius-s: 8px;

  /* Ombre */
  --shadow-nav: 0 8px 20px rgba(0,0,0,0.16);
  --shadow-nav-strong: 0 12px 28px rgba(0,0,0,0.22);

  /* Motion */
  --dur-1: 140ms;
  --dur-2: 180ms;
  --ease-standard: cubic-bezier(.2,.8,.2,1);

  /* Z-index */
  --z-nav: 1000;
  --z-hero-img: 1;
  --z-hero-content: 2;

  /* Container */
  --container-pad-x: 16px;
  --container-max: 1200px;

  /* Hero bg */
  --hero-bg-opacity: 0.5;
  --hero-bg-url: none;

  /* Tracking (letter-spacing) */
  --trk-tight: -0.4px;    /* titoli compatti (mobile/tablet) */
  --trk-tight-lg: -0.6px; /* titoli compatti (desktop) */
  --trk-slight: -0.2px;   /* titoli medi, testi evidenziati */
  --trk-wide:  0.04em;    /* overline/label */
}

/* Dark Mode */
[data-theme="dark"] {
  /* Neutral invertiti */
  --neutral-00: #0E0F1A;
  --neutral-50: #1A1B2E;
  --neutral-900: #F3F2F7;

  /* Theme colors (Dark Mode) */
  --bg-primary: #0E0F1A;
  --bg-secondary: #1A1B2E;
  --text-primary: #F3F2F7;
  --text-secondary: #C8C6D8;
  --surface-0: #16172A;
  --surface-1: #1F2038;

  /* Shadows più leggere per dark mode */
  --shadow-nav: 0 8px 20px rgba(0,0,0,0.4);
  --shadow-nav-strong: 0 12px 28px rgba(0,0,0,0.6);

  /* Card background più scuro */
  --card-bg: #2A2B45;
}

/* Rispetta preferenza di sistema se non impostata manualmente */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --neutral-00: #0E0F1A;
    --neutral-50: #1A1B2E;
    --neutral-900: #F3F2F7;

    --bg-primary: #0E0F1A;
    --bg-secondary: #1A1B2E;
    --text-primary: #F3F2F7;
    --text-secondary: #C8C6D8;
    --surface-0: #16172A;
    --surface-1: #1F2038;

    --shadow-nav: 0 8px 20px rgba(0,0,0,0.4);
    --shadow-nav-strong: 0 12px 28px rgba(0,0,0,0.6);

    --card-bg: #2A2B45;
  }
}

/* =======================
   BASE
   ======================= */
*{ box-sizing: border-box; }
html, body{ height: 100%; }
body{
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--fs-body);
  line-height: var(--lh-normal);
  color: var(--text-primary, #fff);
  background: var(--bg-primary, var(--neutral-900));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 300ms ease, color 300ms ease;
}
img{ max-width: 100%; display: block; }
/* Nessun padding globale su <main>: ogni sezione ha il suo */
main{ display: block; }

/* =======================
   NAVBAR
   ======================= */
.nav{
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: var(--z-nav);
  background: rgba(25,26,35,0.38);
  -webkit-backdrop-filter: blur(10px) saturate(1.4);
  backdrop-filter: blur(10px) saturate(1.4);
  box-shadow: var(--shadow-nav);
  transition: box-shadow var(--dur-2) var(--ease-standard),
              background-color var(--dur-2) var(--ease-standard);
}
.nav.is-scrolled{
  box-shadow: var(--shadow-nav-strong);
  background: rgba(25,26,35,0.42);
}
.nav__inner{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
  padding: 10px var(--container-pad-x);
}
.brand{
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  text-decoration: none;
  color: inherit;
}
.brand__name{
  font-weight: var(--fw-bold);
  letter-spacing: 0.2px;
}
.brand__name:hover{
  text-shadow: 0 0 4px var(--teal-300); /* x=0, y=0, r≈4px */
}
.nav__toggle{
  display: inline-flex;
  flex-direction: column;
  gap: 4px;
  background: transparent;
  border: 0;
  padding: 8px;
  border-radius: var(--radius-s);
  cursor: pointer;
}
.nav__toggle-bar{
  width: 22px;
  height: 2px;
  background: #fff;
  opacity: 0.9;
  border-radius: 1px;
}

/* Menu (stato base collassato su mobile/tablet) */
.nav__menu{
  display: block;
  width: 100%;
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transition:
    max-height var(--dur-2) var(--ease-standard),
    opacity var(--dur-2) var(--ease-standard),
    visibility var(--dur-2) step-end;
  will-change: max-height, opacity;
}
.nav.is-open .nav__menu{
  max-height: 520px;
  opacity: 1;
  visibility: visible;
  transition:
    max-height var(--dur-2) var(--ease-standard),
    opacity var(--dur-2) var(--ease-standard),
    visibility 0s step-start;
}
.nav__list{
  list-style: none;
  margin: 8px 0 0;
  padding: 0;
  display: grid;
  gap: 6px;
}
.nav__item{ list-style: none; }
.nav__link{
  display: block;
  padding: 10px 8px;
  color: #fff;
  text-decoration: none;
  border-radius: 8px;
}
.nav__link:hover{ background: rgba(255,255,255,0.06); }
.nav__link:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}
.nav__cta{
  margin: 10px 0 2px;
  display: grid;
  justify-content: start;
}

/* START NAVBAR — mobile/tablet: pannello compatto a destra */
@media (max-width: 1023.98px){
  .nav__inner{ position: relative; }

  .nav__menu{
    position: absolute;
    top: 100%;
    right: var(--container-pad-x);
    left: auto;
    width: clamp(170px, 42vw, 220px);
    text-align: right;

    /* Frosted glass */
    background: color-mix(in oklab, #0F1120 86%, #FFFFFF 14%);
    -webkit-backdrop-filter: blur(12px) saturate(1.4);
    backdrop-filter: blur(12px) saturate(1.4);
    border: 1px solid rgba(255,255,255,0.14);
    border-radius: 12px;
    box-shadow: 0 12px 28px rgba(0,0,0,0.28);

    padding: 10px;

    /* Apertura morbida (anche verticale) */
    transform-origin: top right;
    transform: translateY(-6px);
    transition:
      max-height var(--dur-2) var(--ease-standard),
      opacity var(--dur-2) var(--ease-standard),
      visibility var(--dur-2) step-end,
      transform var(--dur-2) var(--ease-standard);
  }
  .nav.is-open .nav__menu{
    transform: translateY(0);
    transition:
      max-height var(--dur-2) var(--ease-standard),
      opacity var(--dur-2) var(--ease-standard),
      visibility 0s step-start,
      transform var(--dur-2) var(--ease-standard);
  }

  /* contenuti allineati al centro */
  .nav__list{ justify-items: center; margin: 0; padding: 6px; }
  .nav__link{ padding-right: 12px; }
  .nav__cta{ margin: 8px 6px 2px; justify-content: center; }
}
 
  /* Backdrop per chiusura menu su tap "fuori" (inserito da script.js) */
.nav__backdrop {
  position: fixed;
  inset: 0;
  background: transparent;
  z-index: 999;
  pointer-events: auto;
}

/* Desktop (≥1024px): elenco esteso orizzontale, niente hamburger */
@media (min-width: 1024px){
  .nav__toggle{ display: none; }
  .nav__menu{
    position: static;
    width: auto;
    display: flex;
    align-items: center;
    gap: 16px;

    /* Stato sempre “aperto”: rimuovi i vincoli del collassato */
    max-height: none !important;
    opacity: 1 !important;
    visibility: visible !important;

    /* Nessun frost su desktop per la navbar estesa */
    background: transparent;
    border: 0;
    box-shadow: none;
    padding: 0;
    transform: none !important;
  }
  .nav__list{
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 0;
  }
  .nav__link{
    padding: 8px 10px;
    border-radius: 6px;
  }
  .nav__cta{
    margin: 0 0 0 6px;
    display: block;
  }
}

/* =======================
   HERO SECTION
   ======================= */
.hero ~ *,
.archive-hero ~ *{
  /* Sfondo generale sotto la hero */
  background-color: #1B1C2D;
}
.hero{
  position: relative;
  isolation: isolate;
  display: grid;
  place-items: center;
  padding: 80px 24px;
  min-height: clamp(520px, 78vh, 910px);
  overflow: hidden;
}
.hero::before{
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background:
    linear-gradient(55deg, #161430 0%, rgba(0,0,0,0) 86.57%),
    linear-gradient(194.96deg, var(--indigo-900) 10.69%, var(--indigo-700) 61.97%, var(--indigo-500) 99.1%);
}
.hero.has-hero-bg::after{
  content: "";
  position: absolute;
  inset: 0;
  z-index: var(--z-hero-img);
  background-image: var(--hero-bg-url);
  background-size: cover;
  background-position: center;
  opacity: var(--hero-bg-opacity);
  mix-blend-mode: multiply;
}
.hero__content{
  position: relative;
  z-index: var(--z-hero-content);
  width: min(100%, var(--container-max));
  display: grid;
  justify-items: center;
  gap: var(--space-5);
  text-align: center;
  padding-left: var(--container-pad-x);
  padding-right: var(--container-pad-x);
}
.hero__logo{
  width: 115px;
  height: 115px;
  object-fit: cover;
  border: 3px solid var(--indigo-900);
  border-radius: 160px;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,0.25));
}
.hero__title{
  margin: 0;
  position: relative;
  z-index: 4;
  font-family: var(--font-display);
  font-weight: var(--fw-black);
  font-size: var(--fs-h1);
  line-height: var(--lh-tight);
}
.hero__subtitle{
  margin: 0;
  max-width: 62ch;
  color: var(--neutral-50);
  font-weight: var(--fw-medium);
  line-height: var(--lh-normal);
}

/* CTA Hero — 3 chevron a V animate */
.hero-cta{
  display: grid;
  place-items: center;
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}
.hero-cta--chevrons{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1px;
  margin-top: 8px;
}
.hero-cta--chevrons:focus-visible{
  outline: 2px solid var(--teal-600);
  outline-offset: 4px;
}
.hero-cta--chevrons:hover{ transform: translateY(2px); }
.hero-cta--chevrons .v{
  width: 24px;
  height: 24px;
  stroke: #fff;
  fill: none;
  stroke-width: 2.25;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: .85;
  animation: heroV 1.6s ease-in-out infinite;
}
.hero-cta--chevrons .v:nth-child(1){ animation-delay: 0s; }
.hero-cta--chevrons .v:nth-child(2){ animation-delay: .12s; }
.hero-cta--chevrons .v:nth-child(3){ animation-delay: .24s; }
@keyframes heroV{
  0%, 100% { transform: translateY(0);    opacity: .45; }
  50%      { transform: translateY(6px);  opacity: 1; }
}

/* Mobile (≤480px): hero più compatta, logo più piccolo, CTA più vicina */
@media (max-width: 480px){
  .hero{
    padding: 64px 16px;
    min-height: clamp(420px, 68vh, 640px);
  }
  .hero__logo{
    width: 96px;
    height: 96px;
  }
  .hero__content{ gap: 18px; }
  .hero__subtitle{
    max-width: 58ch;
    font-size: clamp(0.98rem, 0.4vw + 0.92rem, 1.05rem);
  }
  .hero-cta--chevrons{ gap: 0; margin-top: 4px; }
  .hero-cta--chevrons .v{ width: 22px; height: 22px; }
}

/* Tablet (481–768px): equilibrio dimensioni / respiro */
@media (min-width: 481px) and (max-width: 768px){
  .hero{
    padding: 72px 20px;
    min-height: clamp(480px, 72vh, 820px);
  }
  .hero__logo{
    width: 110px;
    height: 110px;
  }
  .hero__content{ gap: 22px; }
  .hero__subtitle{ max-width: 60ch; }
  .hero-cta--chevrons{ margin-top: 6px; }
}

/* Desktop (≥1024px): conferma layout, micro-tuning spazi */
@media (min-width: 1024px){
  .hero__content{ gap: var(--space-6); }
  .hero-cta--chevrons{ margin-top: 8px; }
}

.hero__title{ letter-spacing: var(--trk-tight); }
@media (min-width: 1024px){
  .hero__title{ letter-spacing: var(--trk-tight-lg); }
}
.hero__subtitle{ letter-spacing: 0; } /* neutro per leggibilità */

/* =======================
   CTA Variants
   ======================= */
.btn{
  --btn-radius: var(--radius-s);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px 16px;
  min-height: 45px;
  min-width: 149px;
  border-radius: var(--btn-radius);
  text-decoration: none;
  color: #fff;
  box-shadow: 0px 2px 6px rgba(0,0,0,0.25);
  transition: transform var(--dur-1) var(--ease-standard),
              background-color var(--dur-1) var(--ease-standard),
              box-shadow var(--dur-1) var(--ease-standard);
}

/* Teal (default) */
.btn--teal{ background: var(--teal-600); }
.btn--teal:hover{ background: var(--teal-700); transform: scale(0.99); }
.btn--teal:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Gold */
.btn--gold{
  background: var(--gold-500);
  color: #0E0F1A;
}
.btn--gold:hover{ background: var(--gold-700); transform: scale(0.99); }
.btn--gold:focus-visible{
  outline: 2px solid var(--gold-500);
  outline-offset: 2px;
}

/* Base (Indigo) */
.btn--base{
  background: var(--indigo-900);
  color:#FFFFFF;
}
.btn--base:hover{ background: var(--indigo-700); transform: scale(0.99); }
.btn--base:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* AlphaB (Indigo) */
.btn--alphab{
  background: var(--indigo-700);
  color:#FFFFFF;
}
.btn--alphab:hover{ background: var(--indigo-600); transform: scale(0.99); }
.btn--alphab:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Acid */
.btn--acid{
  background: var(--acid-600);
  color:#202020;
}
.btn--acid:hover{ background: var(--acid-hover); color:#FFFFFF; transform: scale(0.99); }
.btn--acid:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Pink */
.btn--pink{
  background: var(--pink-600);
  color:#FFFFFF;
}
.btn--pink:hover{ background: var(--pink-700); transform: scale(0.99); }
.btn--pink:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Orange */
.btn--orange{
  background: var(--orange-600);
  color:#FFFFFF;
}
.btn--orange:hover{ background: var(--orange-500); transform: scale(0.99); }
.btn--orange:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Indigo Stroke (bianco con bordo e testo indigo) */
.btn--indigostroke{
  background: #FFFFFF;
  color: var(--indigo-700);
  border: 2px solid var(--indigo-700);
}
.btn--indigostroke:hover{
  background: #5B4E9D;
  color: var(--neutral-00);
  border-color: var(--indigo-900);
  transform: scale(0.99);
}
.btn--indigostroke:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* Teal Stroke (bianco con bordo e testo teal) */
.btn--tealstroke{
  background: #FFFFFF;
  color: var(--teal-600);
  border: 2px solid var(--teal-600);
}
.btn--tealstroke:hover{
  background: #007A7C;
  color: var(--neutral-00);
  border-color: var(--teal-700);
  transform: scale(0.99);
}
.btn--tealstroke:focus-visible{
  outline: 2px solid var(--gold-300);
  outline-offset: 2px;
}

/* Disabled1 */
.btn--disabled1{ background: #af6e43; color:#ffecd4; }
.btn--disabled1{
  pointer-events: none;
  cursor: not-allowed;
  opacity: 0.8;}

/* Variante “liquid glass” */
.btn.btn--liquid{
  /* controlli rapidi (overrideabili per singolo bottone via style="…") */
  --liquid-blur: 12px;
  --liquid-alpha: 0.18;       /* opacità del velo */
  --liquid-border: 0.38;      /* intensità bordo esterno */
  --liquid-shadow: 0.28;      /* intensità ombra esterna */

  /* estetica glassy */
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.45);

  background: rgba(255,255,255,var(--liquid-alpha));
  border: 1px solid rgba(255,255,255,var(--liquid-border));
  border-radius: var(--btn-radius);

  /* ombre: un filo interno + ombra esterna morbida */
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.22),
    0 4px 12px rgba(0,0,0,var(--liquid-shadow));
}

/* Miglioria progressiva: blur reale se supportato */
@supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)){
  .btn.btn--liquid{
    -webkit-backdrop-filter: blur(var(--liquid-blur)) saturate(1.12);
    backdrop-filter: blur(var(--liquid-blur)) saturate(1.12);
  }
}

/* Hover / Active: coerenza con timing globali */
.btn.btn--liquid:hover{
  background: rgba(255,255,255, calc(var(--liquid-alpha) + 0.06));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.28),
    0 6px 18px rgba(0,0,0, calc(var(--liquid-shadow) + 0.10));
  transform: translateY(0px);
  transition:
    transform var(--dur-1) var(--ease-standard),
    background-color var(--dur-1) var(--ease-standard),
    box-shadow var(--dur-1) var(--ease-standard);
}
.btn.btn--liquid:active{
  background: rgba(255,255,255, calc(var(--liquid-alpha) + 0.02));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.30),
    0 3px 8px rgba(0,0,0, calc(var(--liquid-shadow) + 0.02));
  transform: translateY(0);
}

/* Focus accessibile: usa i tuoi colori brand se presenti */
.btn.btn--liquid:focus-visible{
  outline: 2px solid var(--teal-600, #00979B);
  outline-offset: 3px;
}

/* Variante scura: testo scuro, velo più chiaro, pensata per sfondi chiari */
.btn.btn--liquid.btn--dark{
  --liquid-blur: 12px;
  --liquid-alpha: 0.22;
  --liquid-border: 0.32;
  --liquid-shadow: 0.22;

  color: #1a1a1a;
  text-shadow: none;

  background: rgba(255,255,255,var(--liquid-alpha));
  border: 1px solid rgba(255,255,255,var(--liquid-border));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.18),
    0 4px 12px rgba(0,0,0,var(--liquid-shadow));
}

@supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)){
  .btn.btn--liquid.btn--dark{
    -webkit-backdrop-filter: blur(var(--liquid-blur)) saturate(1.08);
    backdrop-filter: blur(var(--liquid-blur)) saturate(1.08);
  }
}

.btn.btn--liquid.btn--dark:hover{
  background: rgba(255,255,255, calc(var(--liquid-alpha) + 0.08));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.24),
    0 6px 16px rgba(0,0,0, calc(var(--liquid-shadow) + 0.08));
  transform: translateY(-1px);
}
.btn.btn--liquid.btn--dark:active{
  background: rgba(255,255,255, calc(var(--liquid-alpha) + 0.04));
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.26),
    0 3px 8px rgba(0,0,0, calc(var(--liquid-shadow) + 0.02));
  transform: translateY(0);
}

.btn.btn--liquid.btn--dark:focus-visible{
  outline: 2px solid var(--indigo-600, #5B4E9D);
  outline-offset: 3px;
}

/* =======================
   Motion preferenze (micro-transizioni)
   ======================= */
@media (prefers-reduced-motion: reduce){
  .btn{ transition: background-color 0.001s linear; }
  .nav{ transition: background-color 0.001s linear, box-shadow 0.001s linear; }

  /* Hero chevrons: disattiva animazione e hover-move */
  .hero-cta--chevrons:hover{ transform: none; }
  .hero-cta--chevrons .v{ animation: none !important; }
}

/* Breakpoints (mobile-first) */
@media (min-width: 768px){
  .nav__inner{ padding: 12px calc(var(--container-pad-x) + 4px); }
}
@media (min-width: 1024px){
  .nav__inner{ padding: 14px calc(var(--container-pad-x) + 8px); }
}
@media (min-width: 1280px){
  :root{ --container-max: 1200px; }
}
@media (min-width: 1536px){
  :root{ --container-max: 1320px; }
}

#cards-title {
  scroll-margin-top: 80px; /* evita overlap con navbar fissa */
}

/* =======================
   Contacts
   ======================= */
.contacts{
  background: var(--neutral-50);
  color: var(--indigo-900);
  padding: clamp(32px, 6vw, 72px) 0;
}
.contacts__inner{
  width: min(100%, var(--container-max));
  margin-inline: auto;
  padding-inline: var(--container-pad-x);
  text-align: center;
}
.contacts__title{
  margin: 0 0 8px;
  font-family: var(--font-sans);
  font-weight: var(--fw-black);
  font-size: var(--fs-h2);
  line-height: var(--lh-tight);
}
.contacts__intro{
  margin: 0 auto;
  max-width: 68ch;
}
.contacts__sub{
  margin: 12px 0 18px;
  font-weight: var(--fw-bold);
  letter-spacing: 0.02em;
}

/* icone in FILA, centrata; wrap solo se necessario su view strettissime */
.contacts__list{
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16px;                 /* distanza tra icone */
  flex-wrap: wrap;           /* sicurezza su schermi molto stretti */
}

.contact{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px;               /* touch target */
  height: 44px;
  border-radius: 10px;
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}
.contact:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 3px;
}

/* Icone SVG via mask: colore = background-color */
/* Icone: dimensione + colore di base */
.contact__icon{
  width: 24px;
  height: 24px;
  display: inline-block;
  background-color: var(--indigo-900); /* colore icona */
  transition: background-color var(--dur-1) var(--ease-standard);
}

/* Hover: cambia SOLO il colore dell'icona */
.contact:hover .contact__icon{ background-color: var(--teal-600); }

/* ===== Mask esplicita (con prefissi) ===== */
.contact__icon{
  /* posizionamento e sizing coerenti */
  -webkit-mask-position: center;
          mask-position: center;
  -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;
          mask-mode: alpha;
}

/* Mapping file SVG → mask-image (aggiorna i path se cambi cartella) */
.icon-mail{
  -webkit-mask-image: url("../icons/mail.svg");
          mask-image: url("../icons/mail.svg");
}
.icon-instagram{
  -webkit-mask-image: url("../icons/instagram.svg");
          mask-image: url("../icons/instagram.svg");
}
.icon-youtube{
  -webkit-mask-image: url("../icons/youtube.svg");
          mask-image: url("../icons/youtube.svg");
}
.icon-telegram{
  -webkit-mask-image: url("../icons/telegram.svg");
          mask-image: url("../icons/telegram.svg");
}
.icon-discord{
  -webkit-mask-image: url("../icons/discord.svg");
          mask-image: url("../icons/discord.svg");
}
.icon-tiktok{
  -webkit-mask-image: url("../icons/tiktok.svg");
          mask-image: url("../icons/tiktok.svg");
}

/* ===== Fallback automatico se mask-image non è supportato ===== */
@supports not (mask-image: url("")) {
  /* coloriamo via currentColor e usiamo uno pseudo-elemento con background-image */
  .contact{
    color: var(--indigo-900);
  }
  .contact:hover{
    color: var(--teal-600);
  }
  .contact__icon{
    /* il vero disegno sta nel ::before */
    background-color: transparent !important;
    position: relative;
  }
  .contact__icon::before{
    content: "";
    display: block;
    width: 24px; height: 24px;
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    /* il colore viene da currentColor */
    filter: brightness(0) saturate(100%); /* uniforma gli SVG multicolore */
  }
  .icon-mail::before     { background-image: url("../icons/mail.svg"); }
  .icon-instagram::before{ background-image: url("../icons/instagram.svg"); }
  .icon-youtube::before  { background-image: url("../icons/youtube.svg"); }
  .icon-telegram::before { background-image: url("../icons/telegram.svg"); }
  .icon-discord::before  { background-image: url("../icons/discord.svg"); }
  .icon-tiktok::before   { background-image: url("../icons/tiktok.svg"); }
}

/* =======================
   Footer
   ======================= */
.site-footer{
  background: var(--neutral-900, #0E0F1A);
  color: var(--neutral-50, #F3F2F7);
  border-top: 1px solid color-mix(in oklab, var(--neutral-50, #F3F2F7) 14%, transparent);
}

.site-footer__inner{
  width: min(100%, var(--container-max));
  margin-inline: auto;
  padding: 16px var(--container-pad-x, 16px);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.site-footer__disclaimer{
  display: block;
  max-width: 980px;
  margin: 0;
  text-align: center;
  font-family: var(--font-sans, "Lexend Deca", system-ui, sans-serif);
  font-weight: 400;
  font-size: clamp(0.75rem, 0.28vw + 0.70rem, 0.875rem); /* ~12–14px */
  line-height: 1.35;
  color: #C8C6D8;
}
.site-footer__disclaimer a{
  color: inherit;
  text-decoration: underline;
  text-underline-offset: 2px;
}
.site-footer__disclaimer a:hover{
  text-decoration-thickness: 2px;
}
/* ---- Anchor safety (navbar fissa) ---- */
/* Allinea lo scroll agli anchor principali */
#links-title,
#contacts-title {
  scroll-margin-top: 80px;
}

/* ---- Footer base ---- */
footer,
.site-footer{
  --ft-bg: var(--neutral-900, #0E0F1A);
  --ft-text: var(--neutral-50, #F3F2F7);
  --ft-border: color-mix(in oklab, #FFFFFF 10%, transparent);

  background: var(--ft-bg);
  color: var(--ft-text);
  padding: clamp(24px, 5vw, 48px) 0;
  border-top: 1px solid var(--ft-border);
}

/* Contenitore allineato al resto del sito */
footer .footer__inner,
.site-footer .footer__inner{
  width: min(100%, var(--container-max));
  margin-inline: auto;
  padding-inline: var(--container-pad-x, 16px);
  display: grid;
  gap: 14px;
}

/* Tipi base */
.footer__brand{
  font-family: var(--font-display, "Lexend Giga", system-ui, sans-serif);
  font-weight: var(--fw-black, 800);
  font-size: clamp(1.1rem, 0.8vw + 1rem, 1.4rem);
  line-height: var(--lh-tight, 1.15);
}
.footer__legal{
  opacity: 0.85;
  font-size: clamp(0.85rem, 0.3vw + 0.8rem, 0.95rem);
  line-height: 1.4;
}

/* Navigazione footer */
.footer__nav{
  display: grid;
  gap: 8px;
  align-content: start;
}
.footer__nav a{
  color: var(--ft-text);
  text-decoration: none;
  opacity: 0.95;
  padding: 6px 0;
  border-radius: 6px;
}
.footer__nav a:hover{
  text-decoration: underline;
  text-underline-offset: 3px;
}
.footer__nav a:focus-visible{
  outline: 2px solid var(--gold-600);
  outline-offset: 2px;
}

/* ---- Layout responsive ---- */

/* Mobile (≤480): stack centrato */
@media (max-width: 480px){
  footer .footer__inner,
  .site-footer .footer__inner{
    grid-template-columns: 1fr;
    text-align: center;
    justify-items: center;
  }
  .footer__nav{ justify-items: center; }
}

/* Tablet (481–1023): 2 colonne (brand+legal / nav) */
@media (min-width: 481px) and (max-width: 1023.98px){
  footer .footer__inner,
  .site-footer .footer__inner{
    grid-template-columns: 1.2fr 1fr;
    align-items: start;
    text-align: left;
    justify-items: start;
  }
  .footer__brand{ margin-bottom: 4px; }
}

/* Desktop (≥1024): 3 colonne (brand / nav / legal) */
@media (min-width: 1024px){
  footer .footer__inner,
  .site-footer .footer__inner{
    grid-template-columns: 1fr auto 1fr;
    align-items: start;
  }
  .footer__brand{ justify-self: start; }
  .footer__nav{ justify-self: center; grid-auto-flow: row; }
  .footer__legal{ justify-self: end; text-align: right; }
}

/* Micro-contrasto su link secondari dentro il footer */
footer .footer__nav a,
.site-footer .footer__nav a{
  color: color-mix(in oklab, var(--neutral-50) 94%, #000 6%);
}

/* Riduzione motion: nessuna animazione “strana” nel footer */
@media (prefers-reduced-motion: reduce){
  footer *{ transition: none !important; }
}

/* Rimuovi alone azzurro al tap SOLO su device touch (non toccare focus desktop) */
@media (hover: none) and (pointer: coarse) {
  a, button, .btn {
    -webkit-tap-highlight-color: transparent;
  }
}
