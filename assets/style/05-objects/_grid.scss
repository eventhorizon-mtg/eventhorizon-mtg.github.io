/* ==========================================
   GRID SYSTEM - EventHorizon.mtg 2.0
   Modern CSS Grid and Flexbox layouts
   ========================================== */

/* CSS Grid Base */
.grid {
  display: grid;
  gap: var(--space-4);
}

/* Responsive grid templates */
.grid--1 { grid-template-columns: 1fr; }
.grid--2 { grid-template-columns: repeat(2, 1fr); }
.grid--3 { grid-template-columns: repeat(3, 1fr); }
.grid--4 { grid-template-columns: repeat(4, 1fr); }
.grid--5 { grid-template-columns: repeat(5, 1fr); }
.grid--6 { grid-template-columns: repeat(6, 1fr); }

/* Auto-fit grids with minimum sizes */
.grid--auto-sm {
  grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
}

.grid--auto-md {
  grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));
}

.grid--auto-lg {
  grid-template-columns: repeat(auto-fit, minmax(24rem, 1fr));
}

.grid--auto-xl {
  grid-template-columns: repeat(auto-fit, minmax(28rem, 1fr));
}

/* Common layout patterns */
.grid--sidebar {
  grid-template-columns: var(--sidebar-width) 1fr;
  gap: var(--space-6);
}

.grid--sidebar-right {
  grid-template-columns: 1fr var(--sidebar-width);
  gap: var(--space-6);
}

.grid--hero {
  grid-template-columns: 1fr 1.618fr; /* Golden ratio */
  align-items: center;
  gap: var(--space-8);
}

/* Gap modifiers */
.grid--gap-xs { gap: var(--space-1); }
.grid--gap-sm { gap: var(--space-2); }
.grid--gap-md { gap: var(--space-4); }
.grid--gap-lg { gap: var(--space-6); }
.grid--gap-xl { gap: var(--space-8); }

/* Responsive breakpoint overrides */
@media (max-width: 48rem) {
  .grid--2,
  .grid--3,
  .grid--4,
  .grid--5,
  .grid--6 {
    grid-template-columns: 1fr;
  }
  
  .grid--sidebar,
  .grid--sidebar-right,
  .grid--hero {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 64rem) {
  .grid--3,
  .grid--4,
  .grid--5,
  .grid--6 {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Flexbox Layouts */

/* Stack - vertical layout */
.stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.stack--xs { gap: var(--space-1); }
.stack--sm { gap: var(--space-2); }
.stack--md { gap: var(--space-4); }
.stack--lg { gap: var(--space-6); }
.stack--xl { gap: var(--space-8); }

.stack--center {
  align-items: center;
}

.stack--stretch {
  align-items: stretch;
}

/* Cluster - horizontal wrapping layout */
.cluster {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2);
}

.cluster--xs { gap: var(--space-1); }
.cluster--sm { gap: var(--space-2); }
.cluster--md { gap: var(--space-3); }
.cluster--lg { gap: var(--space-4); }
.cluster--xl { gap: var(--space-6); }

.cluster--start { align-items: flex-start; }
.cluster--center { align-items: center; }
.cluster--end { align-items: flex-end; }

.cluster--justify-start { justify-content: flex-start; }
.cluster--justify-center { justify-content: center; }
.cluster--justify-end { justify-content: flex-end; }
.cluster--justify-between { justify-content: space-between; }

/* Center - centering layout */
.center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.center--column {
  flex-direction: column;
}

/* Flow - intrinsic spacing */
.flow > * + * {
  margin-top: var(--space-3);
}

.flow--xs > * + * { margin-top: var(--space-1); }
.flow--sm > * + * { margin-top: var(--space-2); }
.flow--md > * + * { margin-top: var(--space-4); }
.flow--lg > * + * { margin-top: var(--space-6); }
.flow--xl > * + * { margin-top: var(--space-8); }

/* Aspect Ratio Containers */
.aspect-square { aspect-ratio: 1; }
.aspect-video { aspect-ratio: 16 / 9; }
.aspect-photo { aspect-ratio: 4 / 3; }
.aspect-portrait { aspect-ratio: 3 / 4; }
.aspect-golden { aspect-ratio: 1.618; } /* Golden ratio */

/* MTG Card aspect ratio */
.aspect-card { aspect-ratio: 5 / 7; }
